<div class="container">

  <div class="p-grid">
    <div class="p-col-12 p-md-12">
      <h1 class="title">Dashboard - AR CONDICIONADO</h1>
    </div>
  </div>

  <div class="p-grid">
    <div class="p-col-12 p-md-4">
      <div class="box height">
        <div class="margin-2 border height-50">
          <h4>Corrente: {{sensor?.current}}A</h4>
        </div>
        <div class="margin-2 border height-50">
          <h5>Consumo: <br> {{power}} W</h5>
        </div>
      </div>
    </div>

    <div class="p-col-12 p-md-3">
      <div class="box height">
        <div class="margin-2 border height-30 align-center">
          Temperatura: {{sensor?.temperature}}ºC
        </div>

        <div class="margin-2 border height-30 align-center">
          Umidade: {{sensor?.humidity}}%
        </div>

        <div class="margin-2 border height-30 align-center">
          Bateria: {{sensor?.voltage}}V
        </div>
      </div>
    </div>

    <div class="p-col-12 p-md-4">
      <div class="margin-2 height border align-center">
        <div>Status: </div>
        <div *ngIf="getAnomaly(); then true_content else false_content"></div>
        <ng-template #true_content><img width='25%' src="../../../assets/img/status_icons/error_red.png"></ng-template>
        <ng-template #false_content><img width='25%' src="../../../assets/img/status_icons/ok_green.jpg"></ng-template>
      </div>
    </div>

    <div class="p-col-12 p-md-12">
      <div class="border space">
        <div style="margin: 1em">
          <p-spinner style="max-width: 350px; margin: auto" [(ngModel)]="requestNumber" (onChange)="handleChange($event)"
            [step]="20" [min]="1"></p-spinner>
        </div>
        <div>
          <button pButton type="button" label="Exportar CSV" (click)="handleClick($event)"></button>
        </div>
      </div>
    </div>

    <div class="p-col-12 p-md-12">
      <p-panel header="Consumo">
        <p-chart type="line" [data]="lineChartData" [options]="options"></p-chart>
      </p-panel>
    </div>

    <div class="p-col-12 p-md-12">
      <p-panel header="Temperaturas">
        <p-chart type="line" [data]="lineChartData2" [options]="options"></p-chart>
      </p-panel>
    </div>

    <div class="p-col-12 p-md-12">
      <p-panel header="Diferença de Temperatura Interna e Externa">
        <p-chart type="bar" [data]="barChartData" [options]="options"></p-chart>
      </p-panel>
    </div>

  </div>
</div>